<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¬ãƒ¼ãƒ«ã‚ºãƒãƒ¼REVIEW - ã”äºˆç´„</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Hiragino Sans', 'Yu Gothic', 'Meiryo', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; color: #333; overflow-x: hidden; }
        
        #particles { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        
        .loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; transition: opacity 0.8s, visibility 0.8s; }
        .loading-screen.hidden { opacity: 0; visibility: hidden; }
        .loader { width: 80px; height: 80px; border: 5px solid rgba(255,255,255,0.2); border-top: 5px solid white; border-radius: 50%; animation: spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite; }
        .loading-text { color: white; font-size: 18px; margin-top: 20px; animation: pulse 1.5s ease-in-out infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .container { max-width: 700px; margin: 0 auto; background: rgba(255, 255, 255, 0.95); border-radius: 30px; padding: 50px; box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4); border-top: 6px solid #ff6b6b; position: relative; z-index: 1; backdrop-filter: blur(20px); opacity: 0; transform: translateY(50px); animation: fadeInUp 1s ease forwards; animation-delay: 0.5s; }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        
        .header { text-align: center; margin-bottom: 40px; }
        .logo { font-size: 42px; font-weight: bold; background: linear-gradient(135deg, #ff6b6b, #ff8a80, #ffd93d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 15px; animation: gradientShift 3s ease infinite, float 3s ease-in-out infinite; background-size: 200% 200%; }
        @keyframes gradientShift { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        .subtitle { color: #666; font-size: 16px; margin-bottom: 20px; opacity: 0; animation: fadeIn 1s ease forwards; animation-delay: 0.8s; }
        @keyframes fadeIn { to { opacity: 1; } }
        
        .menu-link-area { text-align: center; margin-bottom: 35px; padding: 25px; background: linear-gradient(135deg, #fff5f5, #ffe0e0); border-radius: 20px; border: 3px dashed #ff6b6b; animation: slideInLeft 0.8s ease; }
        @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
        .menu-btn { display: inline-block; background: linear-gradient(135deg, #ff6b6b, #ff8a80); color: white; padding: 14px 35px; text-decoration: none; border-radius: 50px; font-weight: bold; transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55); box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4); position: relative; overflow: hidden; margin: 0 10px; }
        .menu-btn::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255, 255, 255, 0.3); transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s; }
        .menu-btn:hover::before { width: 300px; height: 300px; }
        .menu-btn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6); }
        
        .form-group { margin-bottom: 28px; opacity: 0; animation: fadeIn 0.5s ease forwards; }
        .form-group:nth-child(1) { animation-delay: 1.0s; }
        .form-group:nth-child(2) { animation-delay: 1.1s; }
        .form-group:nth-child(3) { animation-delay: 1.2s; }
        .form-group:nth-child(4) { animation-delay: 1.3s; }
        .form-group:nth-child(5) { animation-delay: 1.4s; }
        .form-group:nth-child(6) { animation-delay: 1.5s; }
        .form-group:nth-child(7) { animation-delay: 1.6s; }
        
        label { display: block; margin-bottom: 10px; color: #333; font-weight: bold; font-size: 15px; }
        .required { color: #ff6b6b; margin-left: 4px; }
        
        input[type="text"], input[type="email"], input[type="date"], input[type="datetime-local"], select, textarea {
            width: 100%; padding: 16px; border: 3px solid #e0e0e0; border-radius: 15px; font-size: 16px; background-color: #fff; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #ff6b6b; box-shadow: 0 0 0 5px rgba(255, 107, 107, 0.15); transform: translateY(-3px); }
        
        .select-wrapper { position: relative; }
        .select-wrapper::after { content: 'â–¼'; font-size: 14px; color: #ff6b6b; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); pointer-events: none; font-weight: bold; transition: transform 0.3s; }
        .select-wrapper:hover::after { transform: translateY(-50%) scale(1.2); }
        select { appearance: none; -webkit-appearance: none; -moz-appearance: none; cursor: pointer; }
        
        .submit-btn { width: 100%; padding: 22px; background: linear-gradient(135deg, #ff6b6b, #ff8a80); color: white; border: none; border-radius: 50px; font-size: 20px; font-weight: bold; cursor: pointer; transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); margin-top: 30px; box-shadow: 0 15px 40px rgba(255, 107, 107, 0.5); position: relative; overflow: hidden; }
        .submit-btn::before { content: 'âœ¨'; position: absolute; left: 30px; transition: all 0.4s; font-size: 24px; }
        .submit-btn:hover::before { left: calc(50% - 12px); }
        .submit-btn:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 20px 50px rgba(255, 107, 107, 0.7); }
        .submit-btn:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }
        
        .contact-method { display: flex; gap: 15px; margin-bottom: 15px; }
        .contact-method label { display: flex; align-items: center; cursor: pointer; font-weight: normal; }
        .contact-method input[type="radio"] { margin-right: 8px; width: 18px; height: 18px; cursor: pointer; accent-color: #ff6b6b; }
        .contact-input-group { display: none; }
        .contact-input-group.active { display: block; }
        
        .payment-info { background: #e7f3ff; border-left: 4px solid #2196f3; padding: 20px; border-radius: 8px; margin-top: 20px; font-size: 14px; color: #1565c0; line-height: 1.6; }
        .payment-title { font-weight: bold; margin-bottom: 10px; font-size: 16px; }
        .qr-badges { margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap; }
        .qr-badge { background: white; padding: 5px 12px; border-radius: 15px; font-size: 12px; border: 1px solid #ddd; color: #666; }
        
        .note { background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 13px; color: #856404; line-height: 1.6; }
        .small-text { font-size: 0.85rem; color: #777; margin-top: 8px; }
        .line-add-btn { display: inline-block; margin: 10px 0; padding: 8px 16px; background: #00c300; color: white; text-decoration: none; border-radius: 5px; font-size: 14px; }
        
        /* é€ä¿¡æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ« */
        .success-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; justify-content: center; align-items: center; }
        .success-modal.show { display: flex; animation: fadeIn 0.3s ease; }
        .success-content { background: white; padding: 40px; border-radius: 25px; text-align: center; max-width: 500px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); animation: modalSlideIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
        @keyframes modalSlideIn { from { transform: translateY(-100px) scale(0.8); opacity: 0; } to { transform: translateY(0) scale(1); opacity: 1; } }
        .success-icon { font-size: 80px; margin-bottom: 20px; }
        .success-title { font-size: 28px; font-weight: bold; color: #28a745; margin-bottom: 15px; }
        .success-message { font-size: 16px; color: #666; line-height: 1.8; margin-bottom: 25px; }
        .success-btn { padding: 15px 40px; background: linear-gradient(135deg, #ff6b6b, #ff8a80); color: white; border: none; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 16px; }
        
        @media (max-width: 768px) {
            .container { padding: 30px; }
            .logo { font-size: 32px; }
            .menu-btn { display: block; margin: 10px 0; }
            .contact-method { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>
    <canvas id="particles"></canvas>
    
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <div class="loading-text">äºˆç´„ãƒšãƒ¼ã‚¸ã‚’æº–å‚™ä¸­...</div>
    </div>

    <div class="container">
        <div class="header">
            <div class="logo">ğŸ¸ ã‚¬ãƒ¼ãƒ«ã‚ºãƒãƒ¼ REVIEW</div>
            <p class="subtitle">ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ç´ æ•µãªæ™‚é–“ã‚’ãŠéã”ã—ãã ã•ã„</p>
        </div>

        <div class="menu-link-area">
            <p style="margin-bottom: 15px; font-size: 15px; color: #666;">è©³ç´°æƒ…å ±ã¯ã“ã¡ã‚‰ã‹ã‚‰ã”ç¢ºèªãã ã•ã„</p>
            <a href="menu.html" class="menu-btn" target="_blank">ğŸ“‹ ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨</a>
            <a href="cast.html" class="menu-btn" target="_blank">ğŸ‘¯ ã‚­ãƒ£ã‚¹ãƒˆç´¹ä»‹</a>
        </div>

        <!-- â˜…â˜…â˜… é‡è¦ï¼šactionå±æ€§ã«Formspreeã®URLã‚’è¨­å®š â˜…â˜…â˜… -->
        <form id="reservationForm" action="https://formspree.io/f/xgolvwaj" method="POST">
            
            <!-- ãƒ¡ãƒ¼ãƒ«ä»¶åã®è¨­å®š -->
            <input type="hidden" name="_subject" value="ã€äºˆç´„ç”³è«‹ã€‘ã‚¬ãƒ¼ãƒ«ã‚ºãƒãƒ¼REVIEW æ–°è¦äºˆç´„">
            
            <!-- ãŠåå‰ -->
            <div class="form-group">
                <label>ãŠåå‰<span class="required">*</span></label>
                <input type="text" id="name" name="ãŠåå‰" placeholder="å±±ç”° å¤ªéƒ" required>
            </div>

            <!-- ç”Ÿå¹´æœˆæ—¥ -->
            <div class="form-group">
                <label>ç”Ÿå¹´æœˆæ—¥<span class="required">*</span></label>
                <input type="date" id="birthday" name="ç”Ÿå¹´æœˆæ—¥" required>
                <div class="small-text">â€»20æ­³æœªæº€ã®æ–¹ã®ã”åˆ©ç”¨ã¯ãŠæ–­ã‚Šã—ã¦ãŠã‚Šã¾ã™ã€‚</div>
            </div>

            <!-- é€£çµ¡æ–¹æ³•é¸æŠ -->
            <div class="form-group">
                <label>ã”é€£çµ¡æ–¹æ³•<span class="required">*</span></label>
                <div class="contact-method">
                    <label>
                        <input type="radio" name="é€£çµ¡æ–¹æ³•" value="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" checked onchange="toggleContactInput('email')">
                        ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
                    </label>
                    <label>
                        <input type="radio" name="é€£çµ¡æ–¹æ³•" value="LINE" onchange="toggleContactInput('line')">
                        LINE
                    </label>
                </div>

                <div id="emailInput" class="contact-input-group active">
                    <input type="email" id="email" name="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹" placeholder="example@email.com">
                </div>

                <div id="lineInput" class="contact-input-group">
                    <input type="text" id="lineId" name="LINE_ID" placeholder="LINE IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                    <div class="small-text">â€»äº‹å‰ã«å‹ã ã¡è¿½åŠ ã‚’ãŠé¡˜ã„ã—ã¾ã™</div>
                    <a href="https://line.me/R/ti/p/ã€ã‚ãªãŸã®LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆIDã€‘" class="line-add-btn">å‹ã ã¡è¿½åŠ </a>
                </div>
            </div>

            <!-- ã”å¸Œæœ›æ—¥æ™‚ -->
            <div class="form-group">
                <label>ã”å¸Œæœ›æ—¥æ™‚<span class="required">*</span></label>
                <input type="datetime-local" id="datetime" name="å¸Œæœ›æ—¥æ™‚" step="600" required>
                <div class="small-text">â€»ã”äºˆç´„æ™‚é–“ã¯10åˆ†åˆ»ã¿ã§ã™ã€‚ã”äºˆç´„æ™‚é–“ã®5åˆ†å‰ã¾ã§ã«æ±ºæ¸ˆã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚</div>
            </div>

            <!-- ã”åˆ©ç”¨ãƒ—ãƒ©ãƒ³ -->
            <div class="form-group">
                <label>ã”åˆ©ç”¨ãƒ—ãƒ©ãƒ³<span class="required">*</span></label>
                <div class="select-wrapper">
                    <select id="plan" name="é¸æŠãƒ—ãƒ©ãƒ³" required>
                        <option value="" disabled selected>ãƒ—ãƒ©ãƒ³ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="30åˆ†ã‚³ãƒ¼ã‚¹ (Â¥1,650)">30åˆ†ã‚³ãƒ¼ã‚¹ (Â¥1,650)</option>
                        <option value="60åˆ†ã‚»ãƒƒãƒˆã‚³ãƒ¼ã‚¹ (Â¥8,800) â€»æŒ‡åæ–™ãƒ»ãƒ‰ãƒªãƒ³ã‚¯4æ¯è¾¼ã¿">60åˆ†ã‚»ãƒƒãƒˆã‚³ãƒ¼ã‚¹ (Â¥8,800) â€»æŒ‡åæ–™ãƒ»ãƒ‰ãƒªãƒ³ã‚¯4æ¯è¾¼ã¿</option>
                    </select>
                </div>
            </div>

            <!-- ãƒ‰ãƒªãƒ³ã‚¯ãƒã‚±ãƒƒãƒˆ -->
            <div class="form-group">
                <label>ãƒ‰ãƒªãƒ³ã‚¯ãƒã‚±ãƒƒãƒˆ</label>
                <div class="select-wrapper">
                    <select id="drink" name="ãƒ‰ãƒªãƒ³ã‚¯ãƒã‚±ãƒƒãƒˆ">
                        <option value="ãªã—">ãªã—</option>
                        <option value="2æ¯ãƒã‚±ãƒƒãƒˆ (Â¥2,200)">2æ¯ãƒã‚±ãƒƒãƒˆ (Â¥2,200)</option>
                        <option value="4æ¯ãƒã‚±ãƒƒãƒˆ (Â¥4,400)">4æ¯ãƒã‚±ãƒƒãƒˆ (Â¥4,400)</option>
                        <option value="6æ¯ãƒã‚±ãƒƒãƒˆ (Â¥6,600)">6æ¯ãƒã‚±ãƒƒãƒˆ (Â¥6,600)</option>
                    </select>
                </div>
                <div class="small-text">â€»30åˆ†ã‚³ãƒ¼ã‚¹ã®æ–¹ã¯è³¼å…¥å¿…é ˆã§ã™</div>
            </div>

            <!-- å¸Œæœ›ã‚­ãƒ£ã‚¹ãƒˆ -->
            <div class="form-group">
                <label>å¸Œæœ›ã‚­ãƒ£ã‚¹ãƒˆ</label>
                <div class="select-wrapper">
                    <select id="cast" name="æŒ‡åã‚­ãƒ£ã‚¹ãƒˆ">
                        <option value="æŒ‡åãªã—">æŒ‡åãªã—</option>
                        <option value="ã‚Šã‚‡ã†">ã‚Šã‚‡ã†</option>
                        <option value="ã‚ã‚Šã™">ã‚ã‚Šã™</option>
                        <option value="ãªãŠ">ãªãŠ</option>
                        <option value="ã¯ã‚‹ã‹">ã¯ã‚‹ã‹</option>
                        <option value="ã‚Šã¨">ã‚Šã¨</option>
                        <option value="ã‚ã‚“ã‚Š">ã‚ã‚“ã‚Š</option>
                        <option value="ã¿ã†">ã¿ã†</option>
                        <option value="ã‚ã„ãª">ã‚ã„ãª</option>
                        <option value="ã‹ã®ã‚“">ã‹ã®ã‚“</option>
                        <option value="ã‚Œã¿">ã‚Œã¿</option>
                        <option value="ã®ã®ã‹">ã®ã®ã‹</option>
                        <option value="ã‚†ã¿">ã‚†ã¿</option>
                        <option value="ã‚Œã©">ã‚Œã©</option>
                    </select>
                </div>
                <div class="small-text">â€»30åˆ†ã‚³ãƒ¼ã‚¹ã®æ–¹ã¯æŒ‡åå¿…é ˆã§ã™</div>
            </div>

            <!-- åˆè¨ˆé‡‘é¡ï¼ˆè‡ªå‹•è¨ˆç®—ï¼‰ -->
            <input type="hidden" id="totalAmount" name="åˆè¨ˆé‡‘é¡" value="">

            <!-- å‚™è€ƒ -->
            <div class="form-group">
                <label>ã”è¦æœ›ãƒ»å‚™è€ƒ</label>
                <textarea id="message" name="ã”è¦æœ›ãƒ»å‚™è€ƒ" rows="4" placeholder="ã”è¦æœ›ã‚„ã”è³ªå•ãªã©ã”ã–ã„ã¾ã—ãŸã‚‰ã”è¨˜å…¥ãã ã•ã„"></textarea>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">äºˆç´„ã‚’ç¢ºå®šã™ã‚‹</button>

            <div class="payment-info">
                <div class="payment-title">ğŸ’³ ãŠæ”¯æ‰•ã„ã«ã¤ã„ã¦ï¼ˆäº‹å‰æ±ºæ¸ˆåˆ¶ï¼‰</div>
                <div>
                    â€¢ ã”äºˆç´„æ™‚é–“ã®<strong>5åˆ†å‰ã¾ã§</strong>ã«QRã‚³ãƒ¼ãƒ‰æ±ºæ¸ˆã‚’ãŠé¡˜ã„ã„ãŸã—ã¾ã™<br>
                    â€¢ äºˆç´„ç¢ºå®šå¾Œã€æ±ºæ¸ˆç”¨QRã‚³ãƒ¼ãƒ‰ã‚’ãƒ¡ãƒ¼ãƒ«/LINEã§ãŠé€ã‚Šã—ã¾ã™<br>
                    â€¢ æ±ºæ¸ˆå®Œäº†å¾Œã€ãƒ“ãƒ‡ã‚ªé€šè©±ç”¨ã®URLã‚’ãŠé€ã‚Šã„ãŸã—ã¾ã™<br>
                    â€¢ å…¥é‡‘ç¢ºèªãŒã§ããªã„å ´åˆã€ã”äºˆç´„ã¯ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¨ãªã‚Šã¾ã™
                </div>
                <div class="qr-badges">
                    <span class="qr-badge">PayPay</span>
                    <span class="qr-badge">LINE Pay</span>
                    <span class="qr-badge">æ¥½å¤©ãƒšã‚¤</span>
                    <span class="qr-badge">dæ‰•ã„</span>
                    <span class="qr-badge">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</span>
                </div>
            </div>

            <div class="note">
                <strong>ğŸ“ ã”äºˆç´„ã«ã¤ã„ã¦</strong><br>
                â€¢ ã”äºˆç´„å†…å®¹ã‚’ç¢ºèªå¾Œã€24æ™‚é–“ä»¥å†…ã«ã”é€£çµ¡ã„ãŸã—ã¾ã™<br>
                â€¢ 20æ­³æœªæº€ã®æ–¹ã®ã”åˆ©ç”¨ã¯ãŠæ–­ã‚Šã—ã¦ãŠã‚Šã¾ã™<br>
                â€¢ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯äºˆç´„æ™‚é–“ã®24æ™‚é–“å‰ã¾ã§ç„¡æ–™ã§ã™<br>
                â€¢ 24æ™‚é–“ä»¥å†…ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯50%ã€å½“æ—¥ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯100%ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ–™ãŒç™ºç”Ÿã—ã¾ã™<br>
                â€¢ ä¸æ˜ãªç‚¹ãŒã”ã–ã„ã¾ã—ãŸã‚‰ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„
            </div>
        </form>
    </div>

    <!-- é€ä¿¡æˆåŠŸãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="success-modal" id="successModal">
        <div class="success-content">
            <div class="success-icon">ğŸ‰</div>
            <div class="success-title">äºˆç´„ç”³è«‹ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼</div>
            <div class="success-message">
                ã”äºˆç´„ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚<br>
                <strong><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dba9beadb2beacf5b3bab8b3b2b4b1b2f5b4b5b7b2b5be9bbcb6bab2b7f5b8b4b6">[email&#160;protected]</a></strong><br>
                ã«äºˆç´„å†…å®¹ã‚’ãŠé€ã‚Šã—ã¾ã—ãŸã€‚<br><br>
                24æ™‚é–“ä»¥å†…ã«ç¢ºèªã®ã”é€£çµ¡ã‚’ã„ãŸã—ã¾ã™ã®ã§ã€<br>
                ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚
            </div>
            <button class="success-btn" onclick="closeSuccessModal()">é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢
        window.addEventListener('load', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
            }, 1500);
        });

        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«èƒŒæ™¯
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 50;

        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 3 + 1,
                vx: Math.random() * 1 - 0.5,
                vy: Math.random() * 1 - 0.5,
                opacity: Math.random() * 0.5 + 0.2
            });
        }

        function drawParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            particles.forEach(p => {
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${p.opacity})`;
                ctx.fill();

                p.x += p.vx;
                p.y += p.vy;

                if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
                if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
            });

            requestAnimationFrame(drawParticles);
        }

        drawParticles();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // é€£çµ¡æ–¹æ³•ã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleContactInput(method) {
            const emailInput = document.getElementById('emailInput');
            const lineInput = document.getElementById('lineInput');
            const emailField = document.getElementById('email');
            const lineField = document.getElementById('lineId');

            if (method === 'email') {
                emailInput.classList.add('active');
                lineInput.classList.remove('active');
                emailField.required = true;
                lineField.required = false;
            } else {
                emailInput.classList.remove('active');
                lineInput.classList.add('active');
                emailField.required = false;
                lineField.required = true;
            }
        }

        // æ–™é‡‘è‡ªå‹•è¨ˆç®—
        function updateTotalAmount() {
            const plan = document.getElementById('plan').value;
            const drink = document.getElementById('drink').value;
            
            let planPrice = 0;
            let drinkPrice = 0;
            
            if (plan.includes('30åˆ†')) planPrice = 1650;
            else if (plan.includes('60åˆ†')) planPrice = 8800;
            
            if (drink.includes('2æ¯')) drinkPrice = 2200;
            else if (drink.includes('4æ¯')) drinkPrice = 4400;
            else if (drink.includes('6æ¯')) drinkPrice = 6600;
            
            const total = planPrice + drinkPrice;
            document.getElementById('totalAmount').value = total > 0 ? `Â¥${total.toLocaleString()}` : '';
        }

        document.getElementById('plan').addEventListener('change', updateTotalAmount);
        document.getElementById('drink').addEventListener('change', updateTotalAmount);

        // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å‡¦ç†
        document.getElementById('reservationForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // å¹´é½¢ç¢ºèª
            const birthdate = new Date(document.getElementById('birthday').value);
            const today = new Date();
            let age = today.getFullYear() - birthdate.getFullYear();
            const monthDiff = today.getMonth() - birthdate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthdate.getDate())) {
                age--;
            }

            if (age < 20) {
                alert('ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€20æ­³æœªæº€ã®æ–¹ã¯ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚');
                return false;
            }

            // ãƒ—ãƒ©ãƒ³é¸æŠç¢ºèª
            const plan = document.getElementById('plan').value;
            if (!plan) {
                alert('ãƒ—ãƒ©ãƒ³ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
                return false;
            }

            // 30åˆ†ã‚³ãƒ¼ã‚¹ã®ãƒ‰ãƒªãƒ³ã‚¯ãƒã‚±ãƒƒãƒˆãƒ»æŒ‡åå¿…é ˆãƒã‚§ãƒƒã‚¯
            const drink = document.getElementById('drink').value;
            const cast = document.getElementById('cast').value;
            
            if (plan.includes('30åˆ†')) {
                if (drink === 'ãªã—' || drink === '') {
                    alert('30åˆ†ã‚³ãƒ¼ã‚¹ã‚’ã”åˆ©ç”¨ã®å ´åˆã¯ã€ãƒ‰ãƒªãƒ³ã‚¯ãƒã‚±ãƒƒãƒˆã®è³¼å…¥ãŒå¿…é ˆã§ã™ã€‚');
                    return false;
                }
                if (cast === 'æŒ‡åãªã—' || cast === '') {
                    alert('30åˆ†ã‚³ãƒ¼ã‚¹ã‚’ã”åˆ©ç”¨ã®å ´åˆã¯ã€ã‚­ãƒ£ã‚¹ãƒˆã®æŒ‡åãŒå¿…é ˆã§ã™ã€‚');
                    return false;
                }
            }

            // é€ä¿¡ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'é€ä¿¡ä¸­...';

            // ãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡
            const formData = new FormData(this);
            
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    // é€ä¿¡æˆåŠŸ
                    showSuccessModal();
                    this.reset();
                } else {
                    // ã‚¨ãƒ©ãƒ¼å‡¦ç†
                    alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                }
            }).catch(error => {
                alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
                console.error('Error:', error);
            }).finally(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = 'äºˆç´„ã‚’ç¢ºå®šã™ã‚‹';
            });
        });

        function showSuccessModal() {
            document.getElementById('successModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeSuccessModal() {
            document.getElementById('successModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        // ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åŠ¹æœ
        document.querySelectorAll('input, select, textarea').forEach(element => {
            element.addEventListener('focus', function() {
                this.style.transform = 'translateY(-3px)';
            });
            
            element.addEventListener('blur', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>
